<!DOCTYPE html>
<html lang="en" xmlns:th="thymeleaf.org">
	<head>
		<meta charset="UTF-8"/>
		<title>Update Book</title>
	</head>
	<body>
		<a th:href="'/books/' + ${book.get().id}">Go Back</a>
		<form action="/updatebook" method="post" th:object="${bp}">
		<table>
			<tr>
				<td>Title</td>
				<td>
					<input type="text" name="title" th:value="${book.get().title}"/>
				</td>
			</tr>
			<tr>
				<td>Description</td>
				<td>
					<input type="text" name="description" th:value="${book.get().description}"/>
				</td>
			</tr>
			<tr>
				<td>Categories</td>
				<td>
					<li th:each="category,iter : ${allcat}">
						<input type="checkbox" name="categories" th:checked="${checked.contains(category.id)}" th:id="'categories' + ${iter.index+1}" th:value="${category.id}"/>
						<input type="hidden" name="_categories" value="on">
						<label th:text="${category.title}"/>
					</li>
				</td>
			</tr>
			<tr>
				<td>
					<input type="hidden" name="id" th:value="${book.get().id}">
					<input type="submit" value="Submit"/>
				</td>
			</tr>
		</table>
		</form>
	</body>
</html>